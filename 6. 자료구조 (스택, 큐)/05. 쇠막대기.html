<html>

<head>
	<meta charset="UTF-8">
	<title>출력결과</title>
</head>

<body>
	<script>
		function solution(s) {
			let answer = 0;


			// 스택에 담긴 값 자체가 기준이 아니라 바로 앞에 무엇을 뽑았는지가 중요
			// 	=> for-of가 아닌 i(인덱스)-for문 
			for (let i = 0; i < s.length; i++) {
				// 꺼낸 값이 여는 괄호이면 
				if (s[i] === "(") stack.push(s[i]); // 스택에 추가

				// 꺼낸 값이 닫는 괄호이면
				else {
					// 바로 이전 값이 무엇이든 일단 여는 괄호와 만나게 되므로
					// 스택에서 무조건 하나 꺼냄
					stack.pop();

					// 바로 이전값이 여는 괄호였다면 레이저가 되어 막대기들을 자름
					// 자른 조각 수 = 스택에 들어있던 여는 괄호 수
					//	=> 스택의 길이만큼을 answer에 추가 
					if (s[i - 1] === "(") answer += stack.length;

					// 바로 이전이 닫는 괄호라면 막대기가 끝난 것임
					// (스택에 들어있던 여는 괄호와 만나 사라지면서 막대기가 하나 끝남)
					// (뭔가 자른 게 없으므로 개수는 막대기의 마지막 조각 1개만 추가)
					else answer += 1;
				}
			}

			return answer;
		}

		let a = "(((()(()()))(())()))(()())";
		console.log(solution(a));
	</script>
</body>

</html>