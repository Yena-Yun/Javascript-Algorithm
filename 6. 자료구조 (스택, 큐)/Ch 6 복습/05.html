<html>

<head>
	<meta charset="UTF-8">
	<title>출력결과</title>
</head>

<body>
	<script>
		function solution(s) {
			let answer = 0;
			let stack = [];

			// 스택에 담긴 값 자체가 기준이 아니라 바로 앞에 무엇을 뽑았는지가 중요 => i-for문
			for (let i = 0; i < s.length; i++) {
				// 꺼낸 값이 여는 괄호이면 스택에 추가
				if (s[i] === "(") stack.push(s[i]);

				// 꺼낸 값이 닫는 괄호이면
				else {
					// 스택에 있던 여는 괄호와 만나 상쇄됨 -> 무조건 스택에서 하나 꺼냄
					stack.pop();

					// 바로 이전 순서가 여는 괄호라면 둘이 합해서 레이저 -> 막대기들을 자름
					// 스택의 길이(= 여는 괄호 수)만큼을 answer에 추가
					if (s[i - 1] === "(") answer += stack.length;

					// 바로 이전이 닫는 괄호라면 -> 막대기가 끝난 것임
					// 뭔가 추가로 자른 게 없으므로 막대기의 마지막 조각 1개만 추가
					else answer += 1;
				}
			}

			return answer;
		}

		let a = "()(((()())(())()))(())";
		console.log(solution(a));
	</script>
</body>

</html>