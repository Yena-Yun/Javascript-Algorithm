<html>

<head>
	<meta charset="UTF-8">
	<title>출력결과</title>
</head>

<body>
	<script>
		function solution(m, arr) {
			let answer = 0,
				sum = 0,
				lt = 0;

			for (let rt = 0; rt < arr.length; rt++) {
				// 일단 sum에 rt번째 값 추가
				sum += arr[rt];

				// 추가했는데 sum이 m보다 커진 경우
				while (sum > m) {
					sum -= arr[lt++];
				}

				// 새롭게 추가한 rt번째 값이 연속수열의 맨 끝이면서 m 이하가 되는 갯수를 한 번에 추가
				// (++로 1개씩 추가하는 게 아니라 1일 때 (1) 1개, 3일 때 (3), (3, 1)로 2개, 두 번째 1일 때 (1), (1, 3), (1, 3, 1) 3개 이런 식으로)
				answer += (rt - lt + 1);
			}

			return answer;
		}

		let a = [1, 3, 1, 2, 3];
		console.log(solution(5, a));
	</script>
</body>

</html>