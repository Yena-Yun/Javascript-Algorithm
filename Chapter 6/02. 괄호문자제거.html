<html>

<head>
	<meta charset="UTF-8">
	<title>출력결과</title>
</head>

<body>
	<script>
		// ( ) 괄호 사이의 문자를 모두 제거하는 문제
		function solution(s) {
			let answer;
			let stack = [];

			// 소괄호 ( ) 사이에 존재하는 모든 문자를 제거하고 남은 문자만 출력하기
			for (let x of s) {
				// 이 문제에서는 닫는 괄호가 기준
				// (하지만 닫는 괄호를 스택에 넣지는 않음)

				// x가 '닫는 괄호'이면
				if (x === ")") {
					// '여는 괄호'가 나올 때까지 계속해서 앞부분을 제거해 나감

					// (내가 짰던 코드 - 이렇게 하면 'x가 여는 괄호일 동안 돈다'는 의미 => 여는 괄호가 아닐 경우 바로 종료됨)
					// while (x === "(") stack.pop(); // 

					// 스택에서 꺼낸 것이 '여는 괄호가 아닐' 동안 꺼내기(stack.pop())를 계속 반복 
					// 즉, 꺼낸 게 여는 괄호가 되는 순간(= 여는 괄호까지 다 꺼내지고 나서) while문 종료
					while (stack.pop() !== "("); // => 조건문 자체에 실행문이 같이 들어 있음
				}

				// 꺼낸 것이 닫는 괄호가 아니면
				else stack.push(x); // 계속 스택에 추가
			}

			// 스택 안에 남은 문자들을 [ ] 제거하고 다 붙여서 answer에 넣어줌
			answer = stack.join(''); // join('') - 배열 제거하고 공백없는 문자열로 만들어줌 

			return answer;
		}

		let str = "(A(BC)D)EF(G(H)(IJ)K)LM(N)";
		console.log(solution(str));
	</script>
</body>

</html>